<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Untuk nyonya Dian</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.4/dist/sweetalert2.all.min.js"></script>
    <script src="https://dekatutorial.github.io/crd/s.js"></script>
    <link rel="stylesheet" type="text/css" href="https://dekatutorial.github.io/crd/s.css" />
    <style>
        .cp {
            margin: 15px 0;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }
        .cp p {
            margin: 0;
            color: white;
        }
        .cp h6 {
            margin: 5px 0 0 0;
            color: #aaa;
        }
    </style>
</head>
<body>
    <div id="ccp"></div>
    <script>
        // Fungsi untuk menyimpan pesan
        function savePesan(pesan) {
            const date = new Date();
            const formattedDate = date.toLocaleDateString('id-ID', { 
                day: '2-digit',
                month: 'short',
                year: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            const messageHtml = `
                <div class="cp">
                    <p><span>Pesan :</span><br />${pesan}</p>
                    <h6>${formattedDate}</h6>
                </div>`;

            let messages = localStorage.getItem('messages') || '';
            messages += messageHtml;
            localStorage.setItem('messages', messages);
            
            return true;
        }

        // Fungsi untuk menampilkan pesan
        function loadMessages() {
            if (new URLSearchParams(window.location.search).has('pesan')) {
                const messages = localStorage.getItem('messages') || '';
                document.getElementById('ccp').innerHTML = messages;
                return;
            }
            dt();
        }
        loadMessages();
    </script>

    <div class="ctnr">
        <div class="lv">
            <img src="img/0.png" height="150px" width="250px" />
            <p>Klik kotaknya</p>
        </div>
        <div class="ctn">
            <button class="btn next">[ Lanjut ]</button>
            <button class="btn send">[ jangan di klik kalo ga mau nyesel ]</button>
        </div>
    </div>

    <script>
        konten = [{
                gambar: "img/1.jpg",
                ucapan: "oiiiii",
            },
            {
                gambar: "img/2.jpg",
                ucapan: "Happybirthday ya",
            },
            {
                gambar: "img/3.jpg",
                ucapan: "ultah yang keberapa si nyonya Dian?,yang ke 28 ya! aishh tuanya_-",
            },
            {
                gambar: "img/4.jpg",
                ucapan: "WKWKWKW TUA TUA TUA TUA TUA TUA TUA TUAAAAAAA",
            },
            {
                gambar: "img/5.jpg",
                ucapan: "tapi gapapa tua juga gua suka, Selamat ulang tahun yaaa^_^",
            },
            {
                gambar: "img/6.jpg",
                ucapan: "apalagi ya?",
            },
            {
                gambar: "img/7.jpg",
                ucapan: "ohh iya semoga yang disemogakan tersemogakan aminn...",
            },
            {
                gambar: "img/20.jpg",
                ucapan: "apa yang nyonya impikan dan nyonya perjuangkan semoga kedepanya tercapai dan di lancarkan proses perjalananya",
            },
            {
                gambar: "img/24.jpeg",
                ucapan: "dan juga sekarang ataupun nanti kedepanya ada rintangan yang nyonya mau gamau harus hadapi",
            },
            {
                gambar: "img/9.jpg",
                ucapan: "harus tetap kuat,semangat dan sabar menghadapin yaaa^_^",
            },
            {
                gambar: "img/12.jpg",
                ucapan: "jangan pernah murung",
            },
            {
                gambar: "img/26.jpeg",
                ucapan: "apalagi stresss",
            },
            {
                gambar: "img/22.png",
                ucapan: "walaupun hari hari nyonya tidak berwarna",
            },
            {
                gambar: "img/21.png",
                ucapan: "kalo sekarang pasti udaa mulai ada warna wana baru^_^",
            },
            {
                gambar: "img/29.jpeg",
                ucapan: "karena hadirnya...",
            },
            {
                gambar: "img/23.jpeg",
                ucapan: "si tampann zann üòè üòè üòè",
            },
            {
                gambar: "img/25.jpeg",
                ucapan: "ciee uda 23 tahunn wkwkw TUAAA",
            },
            {
                ucapan: "Have a fabulous birthday^_^",
            }
        ];

        musik = "music/Ten2Five.mp3";
        nomorWhatsapp = "+6285777183633";
    </script>

    <script>
        // Override fungsi kirimPesan di s.js
        function kirimPesan(pesan) {
            if (savePesan(pesan)) {
                return { s: 200 };
            }
            return { s: 500 };
        }
        
        // Override fungsi-fungsi terkait WhatsApp
        window.kirimPesan = function(pesan) {
            return false; // Mencegah pengiriman pesan
        };
        
        window.tujuanPesan = function() {
            return false; // Mencegah redirect
        };
        
        // Override fungsi untuk mencegah munculnya box pesan
        window.writeMessage = function() {
            return false; // Mencegah munculnya box pesan
        };
        
        // Override fungsi untuk tombol send
        document.querySelector('.btn.send').addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation();
            if (e && e.stopPropagation) {
                e.stopPropagation();
            }
            Swal.fire({
                title: 'yakin mau liat? üòë ',
                icon: 'warning',
                showCancelButton: true,
                confirmButtonText: 'bodoamat üò§',
                cancelButtonText: 'ga jadi üòÖ',
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33'
            }).then((result) => {
                if (result.isConfirmed) {
                    // Dialog kedua setelah klik Maaf
                    Swal.fire({
                        title: 'hari ini gua akan bikin nyonya saltingüòä',
                        icon: 'success',
                        showCancelButton: true,
                        confirmButtonText: 'next',
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            Swal.fire({
                                title: 'something dari orang tampann! üòä',
                                icon: 'info',
                                confirmButtonText: 'liat'
                            }).then(() => {
                                // Setelah klik OK, baru redirect ke gallery.html
                                window.location.href = 'gallery.html';
                            });
                        } else {
                            // Jika pilih Ngga
                            Swal.fire({
                                title: 'Yaudah deh üòî',
                                icon: 'info',
                                confirmButtonText: 'OK'
                            });
                        }
                    });
                } else {
                    // Jika klik Bodoamat, kembali ke awal
                    window.location.reload();
                }
            });
            return false;
        }, true);
        
        DekaTutorial(konten, musik);
    </script>
</body>
</html>